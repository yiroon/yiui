/* author:Sam email:yiroon@qq.com version:1.0.0 */function matrix(){return arguments}function matrix3d(){return arguments}function toMatrix(a){var c,b=[];return[].forEach.call(a,function(a){b.push(a)}),c=b.length>13?"matrix3d":"matrix",c+"("+b.join(",")+")"}function extend(){var b=arguments[0];return[].forEach.call(arguments,function(a){for(var c in a)b[c]=a[c]}),b}function _bind(obj){var isdom="undefined"!=typeof obj.nodeType;obj.on=function(a,b){var c=a.split(" "),d=this;return[].forEach.call(c,function(a){if(a.trim())if(d[a])d[a](b);else{d.addEventListener(a,b,!1);var c=d._events||[];c.push({event:a,fn:b})}}),this},obj.un=function(a,b){var c=a.split(" "),d=this;return[].forEach.call(c,function(a){a.trim()&&(d[a]&&(d._un=d._un||[],d._un.forEach(function(c){a!=c.event||"undefined"!=typeof b&&b.toString()!=c.fn.toString()||c.do()})),"undefined"==typeof b?(d._events=d._events||[],[].forEach.call(d._events,function(b,c){a==b.event&&(d.removeEventListener(a,b.fn),d._events.splice(c,1))})):d.removeEventListener(a,b))}),this},obj.trigger=function(a){var b=document.createEvent("Events");return b.initEvent(a,!0,!0),this.dispatchEvent(b),this},isdom&&(obj.getStyle=function(a){var b=window.getComputedStyle(this),c=a.split(" "),d=0;return c.forEach(function(a){return b[a].indexOf("px")>-1?(d+=parseInt(b[a].replace("px","")),void 0):d=b[a]}),d},obj.css=function(){if("object"==typeof arguments[0])for(var a in arguments[0])obj.style[a]=arguments[0][a];else"string"==typeof arguments[0]&&(obj.style[arguments[0]]=arguments[1]);return this},obj.before||(obj.before=function(a){var b=obj.parentNode;return b.insertBefore(a,obj),obj}),obj.after||(obj.after=function(a){var b=obj.parentNode;return b.insertBefore(a,obj.nextSibling),obj}),obj.remove||(obj.remove=function(){var a=obj.parentNode;return a.removeChild(obj),obj}),obj.setTranslate=function(){var transform=this.getStyle("transform");return"none"==transform&&(transform="matrix(1, 0, 0, 1, 0, 0)"),eval("var v="+transform),v.length>13?(v[13]=arguments[0],v[14]=arguments[0]):(v[4]=arguments[0],v[5]=arguments[1]),this.style.transform=toMatrix(v),this},obj.getTranslate=function(){var transform=this.getStyle("transform");return"none"==transform?[0,0]:(eval("var v="+transform),v.length>13?[v[13],v[14]]:[v[4],v[5]])},obj.setAniTimer=function(a,b){var g,c="object"==typeof a?a.duration||300:a,d=a.timingFunction||"ease",e=a.property||"all",f=a.delay||0;return this.aniTimer&&(this.style.transition=this._transition||null,clearTimeout(this.aniTimer)),this.style.transition&&!this._transition&&(this._transition=this._transition||this.style.transition),this.style.transition=e+" "+c/1e3+"s "+d+" "+f+"s",g=this,g.aniTimer=setTimeout(function(){g.style.transition=g._transition||null,"function"==typeof b&&b.call(g)},c),this},obj.stopAniTimer=function(a){this.style.transition="none",clearTimeout(this.aniTimer);var b=this;return this._transition?setTimeout(function(){b.style.transition=b._transition,"function"==typeof a&&a.call(this)},30):this.style.transition=null,this},obj.animate=function(a,b,c){obj.setAniTimer(b||300,c);for(var d in a)obj.style[d]=a[d];return this},obj.$=function(a){var b="object"==typeof a?a:obj.querySelector(a);return null==b?null:(_bind(b),b)},obj.$$=function(a){var b="object"==typeof a?a:obj.querySelectorAll(a);return[].forEach.call(b,function(a){_bind(a)}),b.each=function(a){return[].forEach.call(b,function(b,c){a.call(b,c)}),b},b},obj.setDrag=function(a){function r(d){var f,e=d.touches?d.touches[0]:d;0==e.button&&(q=e,f=m.getTranslate(),n=!0,b=e.screenX,c=e.screenY,h=f[0],i=f[1],"function"==typeof a.begin&&a.begin.call(m),yiui.stop(d))}function s(j){var k,l,r,s,t,u;n&&(k=j.touches?j.touches[0]:j,q=k,null!=b&&p.indexOf("x")>-1&&(d=k.screenX-b,f=h+d,a.range&&(l=o.getStyle("margin-left padding-left border-left-width")-m.offsetLeft+m.getStyle("margin-left"),r=o.offsetWidth-o.getStyle("padding-right border-right-width")+o.offsetLeft-(m.offsetWidth+m.getStyle("margin-right"))-m.offsetLeft,l>f&&(f=l),f>r&&(f=r))),null!=c&&p.indexOf("y")>-1&&(e=k.screenY-c,g=i+e,a.range&&(s=o.getStyle("margin-top padding-top border-top-width")-m.offsetTop+m.getStyle("margin-top"),t=o.offsetHeight-o.getStyle("padding-bottom border-bottom-width")+o.offsetTop-(m.offsetHeight+m.getStyle("margin-bottom"))-m.offsetTop,s>g&&(g=s),g>t&&(g=t))),a.min&&("undefined"!=typeof a.min.y&&g<a.min.y&&(g=a.min.y),"undefined"!=typeof a.min.x&&f<a.min.x&&(f=a.min.x)),a.max&&("undefined"!=typeof a.max.y&&g>a.max.y&&(g=a.max.y),"undefined"!=typeof a.max.x&&f>a.max.x&&(f=a.max.x)),null==f&&null!=h&&(f=h),null==g&&null!=i&&(g=i),m.setTranslate(f,g),"function"==typeof a.move&&(u={y:e,x:d,startX:b,event:j,setX:function(a){m.setTranslate(a,g||0),b=k.screenX,h=a},setY:function(a){m.setTranslate(f||0,a),c=k.screenY,i=a}},a.move.call(m,u)))}function t(j){a.over&&n&&("function"==typeof a.over?a.over.call(m):(a.over.min&&("undefined"!=typeof a.over.min.y&&g<a.over.min.y&&(g=l),"undefined"!=typeof a.over.min.x&&f<a.over.min.X&&(f=k)),a.over.max&&("undefined"!=typeof a.over.max.y&&g>a.over.max.y&&(g=l),"undefined"!=typeof a.over.max.x&&f>a.over.max.X&&(f=k)),(a.over.max||a.over.min)&&(a.over.duration&&m.setAniTimer(a.over.duration),m.setTranslate(f,g)),"function"==typeof a.over.after&&a.over.after.call(m,{y:e,x:d,startX:b},j))),n=!1,null!=f&&(h=f),null!=g&&(i=g),b=c=d=e=f=g=null}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,u;return a=a||{},b=null,c=null,d=null,e=null,f=null,g=null,h=0,i=0,j=this.getTranslate(),k=j[0],l=j[1],m=this,n=!1,o="boolean"==typeof a.range?$(m.parentNode):a.range,p=a.allow?a.allow:"xy",m.style.touchAction="none",q=null,m.destroyDrag=function(){if(b=c=d=e=h=i=f=g=null,m.removeEventListener("mousedown",r),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t),this.removeEventListener("touchstart",r),document.removeEventListener("touchmove",s),document.removeEventListener("touchend",t),1==a.allowFrame){var j=this.$$("iframe");[].forEach.call(j,function(a){a.contentDocument.removeEventListener("touchstart",r),a.contentDocument.removeEventListener("touchmove",s),a.contentDocument.removeEventListener("touchend",t)})}},m.setDragStartY=function(a){c=a,n=!0},m.setDragStartX=function(a){b=a,n=!0},m.setOldX=function(a){h=a},m.setOldY=function(a){i=a},this.addEventListener("mousedown",r,!1),document.addEventListener("mousemove",s,!1),document.addEventListener("mouseup",t,!1),this.addEventListener("touchstart",r,!1),document.addEventListener("touchmove",s,!1),document.addEventListener("touchend",t,!1),1==a.allowFrame&&(u=this.$$("iframe"),[].forEach.call(u,function(a){a.addEventListener("load",function(){a.contentDocument.addEventListener("touchstart",r,!1),a.contentDocument.addEventListener("touchmove",s,!1),a.contentDocument.addEventListener("touchend",t,!1)})})),this},obj.longpress=function(a){var b=null,c=this,d=function(){b=setTimeout(a.bind(c),500)},e=function(){clearTimeout(b)};return this.on("mousedown",d),this.on("mouseup",e),this._un=this._un?this._un:[],this._un.push({event:"longpress",fn:a,"do":function(){c.un("mousedown",d),c.un("mouseup",e)}}),this},obj.appear=function(a){function d(a){var b=a.parentNode;b.getBoundingClientRect&&($(b).getStyle("overflow").indexOf("auto")>-1&&c.push(b),d(b))}function e(){var d,e,f,g,h,a=c[c.length-1];return a?(d=b.getBoundingClientRect(),e=a.getBoundingClientRect(),f=d.top>e.top-d.height&&d.top-e.top<e.height,g=d.left>e.left-d.width&&d.left-e.left<e.width,h=f&&g):!0}function f(){var e,f,g,a=document.documentElement,c=b.getBoundingClientRect();return a.getBoundingClientRect(),e=c.top>0-c.height&&c.top<a.clientHeight,f=c.left>0-c.width&&c.left<a.clientWidth,g=e&&f}function g(){e()&&f()?b._isAppear||(b._isAppear=!0,a.call(b)):delete b._isAppear}var b=this,c=[];return d(b),[].forEach.call(c,function(a){a.addEventListener("scroll",g)}),window.addEventListener("scroll",g),this._un=this._un||[],this._un.push({event:"appear",fn:a,"do":function(){window.removeEventListener("scroll",g),[].forEach.call(c,function(a){a.un("scroll",g)})}}),this})}function arrToUrlParam(a,b,c,d){var e,f,g,h,i;if(null==a)return"";if(e="",f=typeof a,"string"==f||"number"==f||"boolean"==f)g=3>b?"?":"&",e+=g+c+"="+(null==d||d?encodeURIComponent(a):a);else for(h in a)i=null==c?h:c+(a instanceof Array?"["+h+"]":"."+h),b++,e+=arrToUrlParam(a[h],b,i,d);return e}var yiui,$=function(a){if("function"==typeof a)return _ready(a),void 0;var b="object"==typeof a?a:document.querySelector(a);return _bind(b),b},$$=function(a){var b="object"==typeof a?a:document.querySelectorAll(a);return[].forEach.call(b,function(a){_bind(a)}),b.each=function(a){return[].forEach.call(b,function(b,c){a.call(b,c)}),b},b._isNodeList=!0,b},_ready=function(a){$(document).on("DOMContentLoaded",function(){$(document).un("DOMContentLoaded",arguments.callee,!1),a()})};$.get=function(a,b,c){var d=new XMLHttpRequest;return d.open("GET",a,!0),d.onreadystatechange=function(){if(4==d.readyState&&200==d.status||304==d.status){var a=d.responseText;"json"==c&&(a=JSON.parse(a)),b.call(this,a)}},d.send(),d},$.post=function(a,b,c,d){var e=new XMLHttpRequest;return e.open("POST",a,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){if(4==e.readyState&&(200==e.status||304==e.status)){var a=e.responseText;"json"==d&&(a=JSON.parse(a)),c.call(this,a)}},e.send(arrToUrlParam(b)),e},yiui={stop:function(a){null!=a&&a.stopPropagation?a.stopPropagation():window.event&&(window.event.cancelBubble=!0)},loadScript:function(){function a(){var d,a=arguments,b="string"==typeof a[0]?{src:a[0]}:a[0],c=window.loadedScripts;"object"==typeof c&&c.indexOf(b.src)>-1||(d=document.createElement("script"),d.type=b.type||"text/javascript",d.src=b.src,document.querySelector("head").appendChild(d),c="object"==typeof c?c:[],c.push(b.src),window.loadedScripts=c,b.loaded&&$(d).on("load",function(){b.loaded.call(d)}))}"object"==typeof arguments[0]?Array.isArray(arguments[0])?[].forEach.call(arguments[0],function(b){a(b)}):a(arguments[0]):a(arguments[0])}},$(function(){$(window).trigger("scroll"),$(window).on("resize",function(){$(window).trigger("scroll")})});
